"use strict";(self.webpackChunkpgr=self.webpackChunkpgr||[]).push([[390],{9390:(y,k,r)=>{r.r(k),r.d(k,{TicketMgtModule:()=>Z,TicketMgtService:()=>d});var e=r(1223);let d=(()=>{class n{constructor(){this.tickets=[{id:"1",name:"Water leakage at Sangam Nagar",description:"Near Sangam Nager on road side there is water leakage",type:"Internal"},{id:"2",name:"Electricity issue at Makhani",description:"Its a time of summer exam, students are paparing for final example requesting authorities ro reduce load setting",type:"Internal"}]}create(t){this.tickets.push(t)}update(t){const i=t.id,a=this.tickets.findIndex(l=>l.id===i);a>=0&&(this.tickets[a]=t)}getList(){return this.tickets}getTicket(t){return this.tickets.find(i=>i.id===t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var s=r(505),m=r(8306),u=r(7488),p=r(8242);let v=(()=>{class n{constructor(t,i){this._ticketService=t,this._router=i,this.nav=[{name:"Ticket Management",link:"",icon:"ticket-detailed"}],this.conDef=[{field:"id",sort:"desc"},{field:"name"},{field:"type"},{field:"description"},{field:"action",cellRenderer:"ActionComponent",cellRendererParams:{editClicked:a=>{this.editClicked(a)},viewClicked:a=>{this.viewClicked(a)}},filter:!1,cellStyle:{overflow:"visible"}}]}ngOnInit(){}onGridReady(t){this.rowData$=new m.y(i=>{i.next(this._ticketService.getList())}),t.api.sizeColumnsToFit()}onRowDoubleClicked(t){this._router.navigateByUrl("tickets/view/"+t.data.id)}editClicked(t){this._router.navigate(["tickets/create"],{state:t.data})}viewClicked(t){this._router.navigateByUrl("tickets/view/"+t.data.id)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(d),e.Y36(s.F0))},n.\u0275cmp=e.Xpm({type:n,selectors:[["lib-ticket-list"]],decls:4,vars:3,consts:[[3,"navList"],["routerLink","create","title","Create ticket",1,"btn"],[1,"bi","bi-plus-square"],[1,"ticket-grid",3,"columnDefs","rowData$","onGridReady","onRowDoubleClicked"]],template:function(t,i){1&t&&(e.TgZ(0,"lib-breadcrumb",0)(1,"button",1),e._UZ(2,"i",2),e.qZA()(),e.TgZ(3,"lib-grid",3),e.NdJ("onGridReady",function(l){return i.onGridReady(l)})("onRowDoubleClicked",function(l){return i.onRowDoubleClicked(l)}),e.qZA()),2&t&&(e.Q6J("navList",i.nav),e.xp6(3),e.Q6J("columnDefs",i.conDef)("rowData$",i.rowData$))},directives:[u.L,s.rH,p.M],styles:[".ticket-grid[_ngcontent-%COMP%]{height:calc(100% - 2.5rem - 1px);display:block}.new[_ngcontent-%COMP%]{overflow:visible}"]}),n})();var g=r(9835),c=r(2382),f=r(9808);let h=(()=>{class n{constructor(t,i,a){this._ticketService=t,this._router=i,this._location=a,this.nav=[{name:"Ticket Management",link:"/tickets",icon:"ticket-detailed"},{name:"Create",link:"",icon:"ticket-detailed"}],this.ticket=new c.cw({id:new c.NI(null),name:new c.NI(null,c.kI.required),description:new c.NI(null,c.kI.required),type:new c.NI(null,c.kI.required),check:new c.NI(!1,c.kI.required)}),this.isEdit=!1}ngOnInit(){const t=this._location.getState();t.id&&(this.isEdit=!0,this.ticket.patchValue(t))}createTicket(){this.isEdit?this._ticketService.update(this.ticket.value):this._ticketService.create(Object.assign(Object.assign({},this.ticket.value),{id:""+(this._ticketService.getList().length+1)})),this._router.navigateByUrl("tickets")}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(d),e.Y36(s.F0),e.Y36(f.Ye))},n.\u0275cmp=e.Xpm({type:n,selectors:[["lib-ticket-create"]],decls:27,vars:4,consts:[[3,"navList"],[1,"container-fluid","p-4"],[1,"row","g-3",3,"formGroup"],[1,"col-md-6"],["for","inputPassword4",1,"form-label"],["type","text","formControlName","name","id","inputPassword4",1,"form-control"],[1,"col-12"],["for","inputAddress2",1,"form-label"],["formControlName","description","name","description","id","inputAddress2","cols","10","rows","2",1,"form-control"],[1,"col-md-4"],["for","inputState",1,"form-label"],["id","inputState","formControlName","type",1,"form-select"],["selected",""],[1,"form-check"],["formControlName","check","type","checkbox","id","gridCheck",1,"form-check-input"],["for","gridCheck",1,"form-check-label"],["type","submit",1,"btn","btn-primary",3,"disabled","click"]],template:function(t,i){1&t&&(e._UZ(0,"lib-breadcrumb",0),e.TgZ(1,"div",1)(2,"form",2)(3,"div",3)(4,"label",4),e._uU(5,"Name"),e.qZA(),e._UZ(6,"input",5),e.qZA(),e.TgZ(7,"div",6)(8,"label",7),e._uU(9,"Description"),e.qZA(),e._UZ(10,"textarea",8),e.qZA(),e.TgZ(11,"div",9)(12,"label",10),e._uU(13,"Type"),e.qZA(),e.TgZ(14,"select",11)(15,"option",12),e._uU(16,"Internal"),e.qZA(),e.TgZ(17,"option"),e._uU(18,"External"),e.qZA()()(),e.TgZ(19,"div",6)(20,"div",13),e._UZ(21,"input",14),e.TgZ(22,"label",15),e._uU(23," Check me out "),e.qZA()()(),e.TgZ(24,"div",6)(25,"button",16),e.NdJ("click",function(){return i.createTicket()}),e._uU(26),e.qZA()()()()),2&t&&(e.Q6J("navList",i.nav),e.xp6(2),e.Q6J("formGroup",i.ticket),e.xp6(23),e.Q6J("disabled",i.ticket.invalid),e.xp6(1),e.hij(" ",i.isEdit?"Update":"Create"," Ticket "))},directives:[u.L,c._Y,c.JL,c.sg,c.Fj,c.JJ,c.u,c.EJ,c.YN,c.Kr,c.Wl],styles:["[_nghost-%COMP%]{display:block}"]}),n})(),T=(()=>{class n{constructor(t,i){this._route=t,this._ticketService=i,this.nav=[{name:"Ticket Management",link:"/tickets",icon:"ticket-detailed"},{name:"View",link:"",icon:"ticket-detailed"}],this.ticket=void 0}ngOnInit(){this._route.params.subscribe(t=>{this.getTicket(t.id)})}getTicket(t){this.ticket=this._ticketService.getTicket(t)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(s.gz),e.Y36(d))},n.\u0275cmp=e.Xpm({type:n,selectors:[["lib-ticket-view"]],decls:22,vars:5,consts:[[3,"navList"],[1,"container","col","pt-5"],[1,"row"],[1,"col-2"],[1,"col","text-primary"],[1,"col"]],template:function(t,i){1&t&&(e._UZ(0,"lib-breadcrumb",0),e.TgZ(1,"div",1)(2,"div",2)(3,"div",3),e._uU(4,"Ticket Id"),e.qZA(),e.TgZ(5,"div",4),e._uU(6),e.qZA()(),e.TgZ(7,"div",2)(8,"div",3),e._uU(9,"Name"),e.qZA(),e.TgZ(10,"div",5),e._uU(11),e.qZA()(),e.TgZ(12,"div",2)(13,"div",3),e._uU(14,"Type"),e.qZA(),e.TgZ(15,"div",5),e._uU(16),e.qZA()(),e.TgZ(17,"div",2)(18,"div",3),e._uU(19,"Description"),e.qZA(),e.TgZ(20,"div",5),e._uU(21),e.qZA()()()),2&t&&(e.Q6J("navList",i.nav),e.xp6(6),e.hij(": ",null==i.ticket?null:i.ticket.id,""),e.xp6(5),e.hij(": ",null==i.ticket?null:i.ticket.name,""),e.xp6(5),e.hij(": ",null==i.ticket?null:i.ticket.type,""),e.xp6(5),e.hij(": ",null==i.ticket?null:i.ticket.description,""))},directives:[u.L],styles:[""]}),n})();var C=r(5550);const b=[{path:"",component:v},{path:"create",component:h},{path:"view/:id",component:T}];let Z=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[s.Bz.forChild(b),g.z,c.UX,C.n]]}),n})()}}]);